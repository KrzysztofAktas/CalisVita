﻿@using Microsoft.AspNetCore.Components.Server.ProtectedBrowserStorage
@using CalisVita.Model
﻿@using CalisVita.Context
@inject ProtectedSessionStorage ProtectedSessionStore
@inject NavigationManager NavigationManager
@inject WorkoutProvider WorkoutProvider




<div class="row row-cols-1 row-cols-md-3 g-4">
  <div class="col">
    <div class="card h-100  border-dark mb-3" style="max-width: 30rem;">
        <div class="card text-bg-light  h-100">
                <div class="d-flex flex-column flex-sm-row justify-content-between">
            <h5 class="card-title">@Workout.WorkoutType</h5>
            </div>
                <button class="btn btn-primary" @onclick="() => ShowInfo(Workout.WorkoutType)">Info</button>
        </div>
    </div>
  </div>
</div>

@code {

    public IQueryable<Workout>? Workouts { get; set; }

    [Parameter]
    public Workout Workout { get; set; }



    protected override async Task OnInitializedAsync()
    {
        await GetWorkouts();
    }

    private async Task GetWorkouts()
    {
        Workouts = (await WorkoutProvider.GetAllWorkoutsAsync()).AsQueryable();
    }

    private void ShowInfo(string workoutType)
    {
        NavigationManager.NavigateTo($"/WorkoutPath/{workoutType}");
    }


   

}
